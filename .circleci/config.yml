version: 2.1

orbs:
  newman: postman/newman@1.0.0

executors:
  postman_newman:
    docker:
      - image: newman/postman-newman-docker

jobs:
  test_postman:
    executor: postman_newman
    steps:
      - checkout
      - newman/newman-run:
          collection: ./Menv2Coll.json
          environment: ./Menv2env.json

workflows:
  version: 2
  commit:
    jobs:
      - test_postman
  postman:
    triggers:
      - schedule:
          cron: "6 17 * * *"
          filters:
            branches:
              only:
                - main
    jobs:
      - test_postman